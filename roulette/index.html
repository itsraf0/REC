<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roulette - Raf's Emoji Casino</title>
    <link rel="icon" type="image/x-icon" href="../favicon.ico">
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #2c3e50;
            color: white;
        }

        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem;
            gap: 2rem;
        }

        .wheel-container {
            position: relative;
            width: 400px;
            height: 400px;
            margin: 2rem 0;
        }

        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99);
        }

        .wheel-segment {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: 100% 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 40px solid #e74c3c;
            z-index: 2;
        }

        .controls {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        button {
            padding: 1rem 2rem;
            font-size: 1.2rem;
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #c0392b;
        }

        button:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }

        .stats {
            display: flex;
            gap: 2rem;
            margin-top: 1rem;
            font-size: 1.2rem;
        }

        .powerups {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .powerup {
            padding: 0.5rem 1rem;
            background-color: #3498db;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .powerup:hover {
            background-color: #2980b9;
        }

        .powerup.active {
            background-color: #2ecc71;
        }

        .bet-controls {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .bet-amount {
            padding: 0.5rem;
            font-size: 1.2rem;
            width: 100px;
            text-align: center;
        }

        .result {
            font-size: 1.5rem;
            margin-top: 1rem;
            text-align: center;
        }

        .win {
            color: #2ecc71;
        }

        .lose {
            color: #e74c3c;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ðŸŽ¡ Roulette</h1>
        <div class="wheel-container">
            <div class="pointer"></div>
            <div class="wheel" id="wheel"></div>
        </div>
        <div class="bet-controls">
            <input type="number" class="bet-amount" id="betAmount" min="1" value="10">
            <button id="spinButton">Spin!</button>
        </div>
        <div class="powerups" id="powerups">
            <div class="powerup" data-powerup="double">2x Multiplier</div>
            <div class="powerup" data-powerup="safe">Safe Bet</div>
            <div class="powerup" data-powerup="lucky">Lucky Number</div>
        </div>
        <div class="stats">
            <div>Balance: <span id="balance">1000</span></div>
            <div>Wins: <span id="wins">0</span></div>
            <div>Losses: <span id="losses">0</span></div>
        </div>
        <div class="result" id="result"></div>
    </div>
    <script>
        class RouletteGame {
            constructor() {
                this.wheel = document.getElementById('wheel');
                this.spinButton = document.getElementById('spinButton');
                this.betAmount = document.getElementById('betAmount');
                this.balance = document.getElementById('balance');
                this.wins = document.getElementById('wins');
                this.losses = document.getElementById('losses');
                this.result = document.getElementById('result');
                this.powerups = document.getElementById('powerups');
                
                this.currentBalance = 1000;
                this.winCount = 0;
                this.lossCount = 0;
                this.isSpinning = false;
                this.activePowerups = new Set();
                
                this.segments = [
                    { emoji: 'ðŸŽ°', value: 5, color: '#e74c3c' },
                    { emoji: 'ðŸŽ²', value: 3, color: '#3498db' },
                    { emoji: 'ðŸŽ¯', value: 2, color: '#2ecc71' },
                    { emoji: 'ðŸ’Ž', value: 10, color: '#f1c40f' },
                    { emoji: 'ðŸŒŸ', value: 7, color: '#9b59b6' },
                    { emoji: 'ðŸŽ¨', value: 4, color: '#1abc9c' },
                    { emoji: 'ðŸŽ­', value: 6, color: '#e67e22' },
                    { emoji: 'ðŸŽª', value: 8, color: '#34495e' }
                ];

                this.initializeWheel();
                this.setupEventListeners();
                this.updateStats();
            }

            initializeWheel() {
                const segmentAngle = 360 / this.segments.length;
                this.segments.forEach((segment, index) => {
                    const segmentElement = document.createElement('div');
                    segmentElement.className = 'wheel-segment';
                    segmentElement.style.transform = `rotate(${index * segmentAngle}deg)`;
                    segmentElement.style.backgroundColor = segment.color;
                    segmentElement.textContent = segment.emoji;
                    this.wheel.appendChild(segmentElement);
                });
            }

            setupEventListeners() {
                this.spinButton.addEventListener('click', () => this.spin());
                this.powerups.addEventListener('click', (e) => {
                    if (e.target.classList.contains('powerup')) {
                        this.togglePowerup(e.target);
                    }
                });
            }

            togglePowerup(powerupElement) {
                const powerup = powerupElement.dataset.powerup;
                if (this.activePowerups.has(powerup)) {
                    this.activePowerups.delete(powerup);
                    powerupElement.classList.remove('active');
                } else {
                    this.activePowerups.add(powerup);
                    powerupElement.classList.add('active');
                }
            }

            spin() {
                if (this.isSpinning) return;

                const bet = parseInt(this.betAmount.value);
                if (bet > this.currentBalance) {
                    this.showResult('Insufficient balance!', false);
                    return;
                }

                this.isSpinning = true;
                this.spinButton.disabled = true;

                // Calculate random rotation (5-10 full spins plus final position)
                const spins = 5 + Math.random() * 5;
                const finalAngle = Math.random() * 360;
                const totalRotation = spins * 360 + finalAngle;

                // Apply rotation
                this.wheel.style.transform = `rotate(${totalRotation}deg)`;

                // Calculate result after animation
                setTimeout(() => {
                    const selectedIndex = Math.floor((360 - (finalAngle % 360)) / (360 / this.segments.length));
                    const selectedSegment = this.segments[selectedIndex];
                    
                    let winAmount = bet * selectedSegment.value;
                    
                    // Apply powerups
                    if (this.activePowerups.has('double')) {
                        winAmount *= 2;
                    }
                    if (this.activePowerups.has('safe')) {
                        winAmount = Math.max(winAmount, bet);
                    }
                    if (this.activePowerups.has('lucky') && Math.random() < 0.3) {
                        winAmount *= 3;
                    }

                    // Update balance and stats
                    this.currentBalance += winAmount - bet;
                    if (winAmount > bet) {
                        this.winCount++;
                        this.showResult(`You won ${winAmount}!`, true);
                    } else {
                        this.lossCount++;
                        this.showResult(`You lost ${bet}!`, false);
                    }

                    this.updateStats();
                    this.isSpinning = false;
                    this.spinButton.disabled = false;
                }, 4000);
            }

            updateStats() {
                this.balance.textContent = this.currentBalance;
                this.wins.textContent = this.winCount;
                this.losses.textContent = this.lossCount;
            }

            showResult(message, isWin) {
                this.result.textContent = message;
                this.result.className = `result ${isWin ? 'win' : 'lose'}`;
                setTimeout(() => {
                    this.result.textContent = '';
                    this.result.className = 'result';
                }, 3000);
            }
        }

        // Initialize the game when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new RouletteGame();
        });
    </script>
</body>
</html> 